function Hide(n,t){confirm("Bạn có chắc muốn "+(n==1?"bỏ ẩn":"ẩn")+" tin #"+n+" không?")&&$.post("/Post/UpdateStatus",{id:n,status:t,__RequestVerificationToken:token},function(n){n.success?window.location=location:showNotify(n.message,"danger")}).fail(function(){alert("Error");location=location})}function Trash(n){confirm("Bạn có chắc muốn xóa tin #"+n+" không?")&&$.post("/Post/Trash",{id:n,__RequestVerificationToken:token},function(t){t.success?($("#"+n).remove(),showNotify(t.message,"success")):showNotify(t.message,"danger")}).fail(function(){alert("Error");location=location})}function Restore(n){confirm("Bạn muốn khôi phục lại tin này?")&&$.post("/Post/Restore",{id:n,__RequestVerificationToken:token},function(t){t.success?($("#"+n).remove(),showNotify(t.message,"success")):(alert(t.message),showNotify(t.message,"danger"))}).fail(function(){alert("Error");location=location})}function GetUpTopCost(n){var t=0;n==0?(t=priceUp[0],$("#lblUnitPrice2").html(parseFloat(priceList1[n]).formatMoney(0,",","."))):ddlPackage2.val()==2?(t=totalDay*priceList2[n],$("#lblUnitPrice2").html(parseFloat(priceList2[n]).formatMoney(0,",","."))):ddlPackage2.val()==3&&(t=totalDay*priceList3[n],$("#lblUnitPrice2").html(parseFloat(priceList3[n]).formatMoney(0,",",".")))}function UpTop(n,t){var i=0,u=t==5?3:t,r;i=priceUp[u];r=parseFloat(i).formatMoney(0,",",".");confirm("Bạn có chắc muốn up tin #"+n+" lên TOP? \nBạn cần "+r+"đ để thực hiện chức năng này.")&&$.post("/Post/UpTop",{id:n,vipType:t,__RequestVerificationToken:token},function(n){n.success?(showNotify(n.message,"success"),redirect(location)):showNotify(n.message,"danger")}).fail(function(){alert("Error");location=location})}function UpdateStatus(n,t){confirm("Bạn có chắc muốn cập nhật trạng thái "+(t===1?"[Hiển thị]":"[Đã cho thuê]")+" cho mã tin #"+n+" không?")&&$.post("/Post/UpdateStatus",{id:n,status:t,__RequestVerificationToken:token},function(n){n.success?window.location=location:showNotify(n.message,"danger")}).fail(function(){alert("Error");location=location})}function UpVip(){var n=$("#btnUpVip");loading(n);$.post("/Post/UpVip",{id:$("#txtPostId").text(),viptype:$("#ddlVipType").val(),package:$("#ddlPackage").val(),vipday:$("#ddlTotalDay").val(),__RequestVerificationToken:token},function(t){t.success?(n.text(n.text()),$("#msg-upvip").html('<div class="alert alert-success">'+t.message+"<\/div>"),redirect(location)):(endLoading(n,n.text()),$("#msg-upvip").html('<div class="alert alert-danger">'+t.message+"<\/div>"))}).fail(function(){alert("Error");location=location})}function ReUp(){var n=$("#btnReUp");loading(n);$.post("/Post/ReUp",{id:$("#txtId2").text(),package:$("#ddlPackage2").val(),vipday:$("#ddlTotalDay2").val(),__RequestVerificationToken:token},function(t){t.success?(n.text(n.text()),$("#msg-reup").html('<div class="alert alert-success">'+t.message+"<\/div>"),redirect(location)):(endLoading(n,n.text()),$("#msg-reup").html('<div class="alert alert-danger">'+t.message+"<\/div>"))}).fail(function(){alert("Error");location=location})}function ClickUpVip(n,t){LoadTotalDay(t);LoadVipType(t);$("#txtPostId").text(n);$("#ddlVipType").trigger("change");GetAbsCost();$("#pop-upvip").modal("show")}function ClickReUp(n){LoadTotalDay2(1);$("#txtId2").text(n);$("#ddlTotalDay2").trigger("change");GetReupCost();$("#pop-reup").modal("show")}function GetAbsCost(){var t=parseInt(ddlTotalDay.val()),n=parseInt(ddlVipType.val()==5?3:ddlVipType.val()),i=0;ddlPackage.val()==1?(i=t*priceList1[n],$("#lblUnitPrice").html(parseFloat(priceList1[n]).formatMoney(0,",","."))):ddlPackage.val()==2?(i=t*priceList2[n],$("#lblUnitPrice").html(parseFloat(priceList2[n]).formatMoney(0,",","."))):ddlPackage.val()==3&&(i=t*priceList3[n],$("#lblUnitPrice").html(parseFloat(priceList3[n]).formatMoney(0,",",".")));$("#lblTotalDay").html(t);$("#lblCost").html(i.formatMoney(0,",","."))}function GetReupCost(){var t=parseInt(ddlTotalDay2.val()),n=3,i=0;ddlPackage2.val()==1?(i=t*priceList1[n],$("#lblUnitPrice2").html(parseFloat(priceList1[n]).formatMoney(0,",","."))):ddlPackage2.val()==2?(i=t*priceList2[n],$("#lblUnitPrice2").html(parseFloat(priceList2[n]).formatMoney(0,",","."))):ddlPackage2.val()==3&&(i=t*priceList3[n],$("#lblUnitPrice2").html(parseFloat(priceList3[n]).formatMoney(0,",",".")));$("#lblTotalDay2").html(t);$("#lblCost2").html(i.formatMoney(0,",","."))}function LoadVipType(n){var i=vipTypeList.length,t;for($("#ddlVipType").html(""),t=0;t<i;t++)vipTypeList[t].id<=n&&vipTypeList[t].id!=5&&$("#ddlVipType").append("<option"+(vipTypeList[t].id==n?" selected":"")+' value="'+vipTypeList[t].id+'">'+vipTypeList[t].name+"<\/option>")}function LoadVipDay(){for(var n=1;n<=90;n++)$("#ddlVipDay").append('<option value="'+n+'">'+n+"<\/option>")}function LoadReupDay(n){$("#ddlReupDay").html("");for(var t=n;t<=180;t++)$("#ddlReupDay").append('<option value="'+t+'">'+t+"<\/option>")}function VipChange(){var t=$("#ddlVipType").children("option:selected").val(),n="";switch(t){case"5":n='<strong>Tin thường<\/strong>: Là loại tin đăng bằng chữ <font color="#055699">màu xanh<\/font> và luôn nằm dưới các Tin Hot và Tin Vip';break;case"4":n="<strong>Vip ưu đãi<\/strong>: Là loại tin được hiển thị trong vòng 3 tháng, mỗi tuần sẽ được up tin tự động 1 lần. Tuần đầu tiên sẽ được hiển thị dưới hình thức VIP 2, các tuần tiếp theo hiển thị hình thức tin thường.";break;case"3":n='<strong>Tin Vip 3<\/strong>: Là loại tin đăng bằng chữ <font color="#38a343"><strong>IN HOA MÀU XANH<\/strong><\/font>, gắn nhãn <span class="label label-success" style="background-color: #38a343;">VIP<\/span> và luôn nằm dưới tin Vip 2 nhưng luôn luôn hiển thị trên tin thường.';break;case"2":n='<strong>Tin Vip 2<\/strong>: Là loại tin đăng bằng chữ <font color="#FF6600"><strong>Màu cam<\/strong><\/font>, gắn nhãn <span class="label label-warning" style="background-color: #FF6600;">VIP<\/span> nằm bên dưới Tin Vip 1 và ở trên các tin thường.';break;case"1":n='<strong>Tin Vip 1<\/strong>: Là loại tin được đăng tiêu đề bằng chữ <font color="#B32626"> <strong>Màu đỏ<\/strong><\/font>, gắn nhãn <span class="label label-danger" style="background-color: #e30217;">VIP<\/span> nằm bên dưới Tin Hot và ở trên các Tin Vip 2.';break;case"0":n='<strong>Tin Hot<\/strong>: Là loại tin được đăng tiêu đề bằng chữ <font color="#B32626"> <strong>Màu đỏ<\/strong><\/font>, gắn nhãn <span class="label label-danger" style="background-color: #e30217;">HOT<\/span> hiển thị ở top đầu trang tin và được hưởng nhiều ưu tiên nhất.'}$("#vip_cofig_info_explain").html(n);$("#vip_cofig_info_explain").show()}function LoadTotalDay(n){var i,t;if(ddlTotalDay.html(""),n==1)for(lblPackage.text("ngày"),i=ddlVipType.val()==5?10:1,t=i;t<=90;t++)ddlTotalDay.append('<option value="'+t+'">'+t+" ngày<\/option>");else if(n==2)for(lblPackage.text("tuần"),t=1;t<=10;t++)ddlTotalDay.append('<option value="'+t+'">'+t+" tuần<\/option>");else if(n==3)for(lblPackage.text("tháng"),t=1;t<=12;t++)ddlTotalDay.append('<option value="'+t+'">'+t+" tháng<\/option>")}function LoadTotalDay2(n){var t;if(ddlTotalDay2.html(""),n==1)for(lblPackage2.text("ngày"),t=1;t<=90;t++)ddlTotalDay2.append('<option value="'+t+'">'+t+" ngày<\/option>");else if(n==2)for(lblPackage2.text("tuần"),t=1;t<=10;t++)ddlTotalDay2.append('<option value="'+t+'">'+t+" tuần<\/option>");else if(n==3)for(lblPackage2.text("tháng"),t=1;t<=12;t++)ddlTotalDay2.append('<option value="'+t+'">'+t+" tháng<\/option>")}var token=$("input[name=__RequestVerificationToken]").val();$(document).ready(function(){$("#pop-upvip,#pop-reup").on("hidden.bs.modal",function(){$(this).find("#message").html("");$(this).find("#msg-upvip,#msg-reup").html("")})});var ddlVipType=$("#ddlVipType"),ddlPackage=$("#ddlPackage"),lblPackage=$("span.lblPackage"),ddlTotalDay=$("#ddlTotalDay");$(function(){ddlVipType.change(function(){VipChange();ddlPackage.val()==1&&LoadTotalDay(ddlPackage.val());GetAbsCost()});ddlPackage.change(function(){LoadTotalDay($(this).val());GetAbsCost()});ddlTotalDay.change(function(){GetAbsCost()});GetAbsCost();ddlVipType.trigger("change")});var ddlVipType2=$("#ddlVipType2"),ddlPackage2=$("#ddlPackage2"),lblPackage2=$("span.lblPackage2"),ddlTotalDay2=$("#ddlTotalDay2");$(function(){ddlPackage2.change(function(){LoadTotalDay2($(this).val());GetReupCost()});ddlTotalDay2.change(function(){GetReupCost()});GetReupCost();ddlPackage2.trigger("change")})