function LoadPostCate(){
	for(var t=cateList.length,n=0;n<t;n++)
		ddlPostCate.append("<option"+(cateList[n].id==categoryId?" selected":"")+' value="'+cateList[n].id+'">'+cateList[n].name+"<\/option>")
}
function LoadCity(){
	for(var t=cityList.length,n=0;n<t;n++)ddlCity.append('<option value="'+cityList[n].code+'">'+cityList[n].name+"<\/option>")
}
function LoadDistrict(n){
	var u,r,t,i;if(ddlDistrict.html(""),ddlDistrict.append('<option value="">-- Quận/huyện --<\/option>'),n.length>0)
		for(u=cityList.length,r=0;r<u;r++)if(t=cityList[r],t.code==n)
			for(i=0;i<t.district.length;i++)
				ddlDistrict.append('<option value="'+t.district[i].id+'">'+t.district[i].name+"<\/option>");
				ddlDistrict.select2()
}
function LoadWard(n,t){
	for(var r,u,i=0;i<cityList.length;i++)
		if(cityList[i].code==n)
			for(r=0;r<cityList[i].district.length;r++)
				if(t==cityList[i].district[r].id){
					for(u=0;u<cityList[i].district[r].ward.length;u++)
						ddlWard.append('<option value="'+cityList[i].district[r].ward[u].id+'">'+(cityList[i].district[r].ward[u].pre.length>0?cityList[i].district[r].ward[u].pre+" ":"")+cityList[i].district[r].ward[u].name+"<\/option>");
					for(u=0;u<cityList[i].district[r].street.length;u++)ddlStreet.append('<option value="'+cityList[i].district[r].street[u].id+'">'+(cityList[i].district[r].street[u].pre.length>0?cityList[i].district[r].street[u].pre+" ":"")+cityList[i].district[r].street[u].name+"<\/option>")}
	}
function LoadPriceLevel(){
	for(var t=priceLevel.length,n=0;n<t;n++)ddlPrice.append('<option value="'+priceLevel[n].value+'">'+priceLevel[n].name+"<\/option>")
	}
function LoadAreaLevel(){
	for(var t=areaLevel.length,n=0;n<t;n++)ddlArea.append('<option value="'+areaLevel[n].id+'">'+areaLevel[n].name+"<\/option>")
	}
var cityList=[],ddlPostCate=$("#ddlPostCate"),ddlCity=$("#ddlProvince"),ddlDistrict=$("#ddlDistrict"),ddlWard=$("#ddlWard"),ddlStreet=$("#ddlStreet"),ddlPrice=$("#ddlPrice"),ddlArea=$("#ddlArea"),categoryId=$("#hdnCategoryId").val(),provinceId=$("#hdnProvinceId").val();$(document).ready(function(){var n,t,i,r,u,f;typeof cityListOTher1!="undefined"&&(cityList=$.merge(cityList,cityListOTher1));typeof cityListOTher2!="undefined"&&(cityList=$.merge(cityList,cityListOTher2));typeof cityListOTher3!="undefined"&&(cityList=$.merge(cityList,cityListOTher3));typeof cityListOTher4!="undefined"&&(cityList=$.merge(cityList,cityListOTher4));LoadPostCate();LoadCity();ddlCity.change(function(){LoadDistrict($(this).val())});ddlDistrict.change(function(){var n=ddlCity.val(),t=$(this).val();LoadWard(n,t)});n=$("#hdnProvinceId").val();n&&(ddlCity.val(n),ddlCity.select2(),ddlCity.trigger("change"),t=$("#hdnDistrictId").val(),t!=0&&(ddlDistrict.val(t),ddlDistrict.select2(),ddlDistrict.trigger("change"),i=$("#hdnWardId").val(),i!=0&&(ddlWard.val(i),ddlWard.select2(),ddlWard.trigger("change")),r=$("#hdnStreetId").val(),r!=0&&(ddlStreet.val(r),ddlStreet.select2(),ddlStreet.trigger("change"))));u=$("#hdnPriceId").val();u!=0&&ddlPrice.val(u);f=$("#hdnAreaId").val();f!=0&&ddlArea.val(f);$("#btnSearch").click(function(){var n="/cho-thue-phong-tro",h=ddlPostCate.val(),c=ddlCity.val(),t=ddlDistrict.val(),i=ddlWard.val(),r=ddlStreet.val(),u=ddlArea.val(),f=ddlPrice.val(),e,o,s;h!=0&&(e=$("#ddlPostCate option:selected").text(),n=UnicodeToKoDauUrl(e));c&&t==0&&(o=$("#ddlProvince option:selected").text(),n=n+"-"+UnicodeToKoDauUrl(o));t!=0&&(s=$("#ddlDistrict option:selected").text(),n=n+"-"+UnicodeToKoDauUrl(s));i!=0&&(n=n+"&phuong="+i);r!=0&&(n=n+"&duong="+r);f!=0&&(n=n+"&gia="+f);u!=0&&(n=n+"&dt="+u);n=n.replace("&","?");location=n})})