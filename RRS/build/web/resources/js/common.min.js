function numbersonly(n,t,i){var r,u;if(window.event)r=window.event.keyCode;else if(t)r=t.which;else return!0;return r==86&&t.ctrlKey==!0||r==67&&t.ctrlKey==!0?!0:(r>=96&&r<=105&&(r=r-48),u=String.fromCharCode(r),r==null||r==0||r==8||r==9||r==27||r==16||r==35||r==36||r==46||r>=48&&r<=57||r==37||r==39)?!0:r==13?($(n).attr("id")=="txtBetMoney"&&BetlogInsert(),!1):"0123456789".indexOf(u)>-1?!0:i&&(r==190||r==110)?$(n).val().indexOf(".")<0:!1}function check_phone(n){return!/01*[0-9]{9}/.test(n)||!/09*[0-9]{8}/.test(n)?!1:!0}function isPhoneNumberWithoutCountryCode(n,t){var i,r;if(/^\d{10,11}$/.test(n)){for(i=0;i<lstHeaderMobile10.length;i++)if(r=lstHeaderMobile10[i],n.indexOf("0"+r)==0&&n.length==10)return!0;if(t==undefined||t==!1)for(i=0;i<lstHeaderMobile11.length;i++)if(r=lstHeaderMobile11[i],n.indexOf("0"+r)==0&&n.length==11)return!0}return!1}function check_string(n,t,i){var u,r;if(!n)return!1;if(u=n.length,t)for(r=0;r<u;){if(t.indexOf(n.charAt(r))==-1)return!1;r++}if(i)for(r=0;r<u;){if(i.indexOf(n.charAt(r))!=-1)return!1;r++}return!0}function refreshCaptcha(n){$("#"+n).attr("src","/CaptchaGenerator.aspx?t="+(new Date).getMilliseconds())}function refreshNewCaptcha(n){$("#"+n).attr("src","/HandlerWeb/Captcha.ashx?t="+(new Date).getTime())}function refreshPublicCaptcha(n,t){$.ajax({type:"POST",url:"/HandlerWeb/Captcha.ashx?type=base64&t="+(new Date).getTime(),success:function(i,r,u){$("#"+t).val(u.getResponseHeader("Etag"));$("#"+n).attr("src","data:image/jpeg;base64,"+i)},error:function(){}})}function VNDateTimeToUTCDateTime(n,t){try{var r=n.toString(),i=r.split(t);return new Date(i[2]+"/"+i[1]+"/"+i[0]).toDateString()}catch(f){return new Date}}function UTCDateTimeToVNDateTime(n,t){var i="";try{i=new Date(n)}catch(f){i=new Date}var r=i.getDate()<9?"0"+i.getDate():i.getDate(),u=i.getMonth()<9?"0"+(i.getMonth()+1):i.getMonth()+1;return r+t+u+t+i.getFullYear()}function wordCount(n){var i,t;if(n==null||n.length==0)return 0;while(n.indexOf("  ")>=0)n=n.replace("  "," ");if(n.length==0)return 0;for(i=1,t=0;t<n.length;t++)n[t]==" "&&i++;return i}function GetTotalDay(n,t){var i=t-n;return i=i/24,i=i/60,i=i/60,i/1e3}function GetMoneyText(n){if(n<=0)return"0 đồng";n=Math.round(n*10)/10;var i="",t=0;return n>=1e9&&(t=Math.floor(n/1e9),i+=t+" tỷ ",n=n-t*1e9),n>=1e6&&(t=Math.floor(n/1e6),i+=t+" triệu ",n=n-t*1e6),n>=1e3&&(t=Math.floor(n/1e3),i+=t+" nghìn ",n=n-t*1e3),n=Math.floor(n),n>0&&(i+=n+" đồng"),i.trim()}function GetMoneyText2(n){n=Math.round(n*10)/10;var t=0;return n>=1e9?(t=n/1e9,t+" tỷ "):n>=1e6?(t=n/1e6,t+" triệu "):GetMoneyText(n)}function togglevideo(n){if($("#togglevideo_"+n).css("display")=="none"){$("div[rel=videook],tr[rel=videook]").each(function(){var n=$(this).attr("id");$("#"+n).css("display","none");n=n.replace("togglevideo_","mediaplayer_");$("#"+n).html("")});var t=$("#togglevideo_"+n).attr("videourl").split("v=")[1],i=t.indexOf("&");i!=-1&&(t=t.substring(0,i));$("#togglevideo_"+n).css("display","");$("#mediaplayer_"+n).html('<iframe width="745" height="419" src="https://www.youtube.com/embed/'+t+'?rel=0&amp;showinfo=0?ecver=1" frameborder="0" allowfullscreen><\/iframe>')}else $("#togglevideo_"+n).css("display","none"),$("#mediaplayer_"+n).html("");$("#mediaplayer_"+n+"_wrapper").css("margin","0px auto")}function Trim(n){if(n==undefined)return"";for(var t=n;t.indexOf("\n")>=0;)t=t.replace("\n"," ");while(t.indexOf("\t")>=0)t=t.replace("\t"," ");while(t.length>0&&t.indexOf(" ")==0)t=t.substring(1,t.length);while(t.length>0&&t.lastIndexOf(" ")==t.length-1)t=t.substring(0,t.length-1);while(t.indexOf("&nbsp;")>=0)t=t.replace("&nbsp;","");return t}function stripHTML(n){var t;do t=n,n=$("<div>").html(n).text();while(t!==n);return n}function clearInput(n){$(n).val("")}function UnicodeToKoDau(n,t){var f="",i,r,u;if(n==null)return f;for(r="a",u=0;u<n.length;u++)(r!=" "||n[u]!=" ")&&(r=n[u],t===undefined?(i=uniChars.indexOf(r),i>=0&&(f+=KoDauChars[i])):(i=uniCharsAlfabe.indexOf(r),i>=0&&(f+=KoDauCharsAlfabe[i])));return f}function UnicodeToKoDauUrl(n){var t,u,f,i,r,e;if(n=n.toLowerCase(),t="",n!=null&&n!=""){for(u=new RegExp("( )+","g"),n=n.replace(u,"-"),n.length>100&&(n=n.substring(0,100)),n=UnicodeToKoDau(n),f=new RegExp("<[^>]*>"),n=n.replace(f,""),i="",r=0;r<n.length;r++)i+=Alphabe.indexOf(n[r])>=0?n[r]:"-";return i=i.replace(u,"-"),t=i,e=new RegExp("-+"),t=t.replace(e,"-"),t.length>100?t.substring(0,100):t}return t}function getAjaxMethod(){return $.browser!=undefined&&$.browser.msie?parseInt($.browser.version)<10?"GET":"POST":"POST"}function CreateQuestionValidate(){return $("#hddcboQuestionCategory").val()==undefined||$("#hddcboQuestionCategory").val()==-1?($("#spanQuestion").show(),!1):($("#spanQuestion").hide(),!0)}function LoadCategoryQuestion(){if($("#cboQuestionCategory").length>0){var n;$("body").data("LoadCategoryQuestion")!=null?(n=$("body").data("LoadCategoryQuestion"),$("#cboQuestionCategory").dropdownQuestion(n,$("#hddcboQuestionCategory").val(),"400px")):$.ajax({type:"POST",cache:!1,url:"https://content.bdsabc.com/HandlerWeb/EnglishSearchHandler.ashx?module=GetCategotyQuestion",success:function(t){t.length>0&&(n=$.parseJSON(t),$("body").data("LoadCategoryQuestion",n))},timeout:5e3,complete:function(){n!=null&&$("#cboQuestionCategory").dropdownQuestion(n,$("#hddcboQuestionCategory").val(),"400px")}})}}function PropertyHome(n){n==1?($("#PropertyHomeSale").show(),$("#PropertyHomeRent").hide(),$("#Forsale").addClass("foractive"),$("#Forrent").removeClass("foractive")):n==2&&($("#PropertyHomeSale").hide(),$("#PropertyHomeRent").show(),$("#Forsale").removeClass("foractive"),$("#Forrent").addClass("foractive"))}function formatCurrency(n,t){var o,f;if(window.event)key=window.event.keyCode;else if(t)key=t.which;else return!0;if(key==35||key==36||key==37||key==38||key==39||key==40||key==46)return!0;var e=n.selectionStart,s=n.selectionEnd,r=$(n).val(),u=Math.max(0,r.substring(0,e).split(",").length-1);for(r=r.toString().replace(/\$|\,/g,""),isNaN(r)&&(r="0"),o=r!=Math.abs(r),r=Math.abs(r),r=Math.floor(r*100+.50000000001),f=r%100,r=Math.floor(r/100).toString(),f<10&&(f="0"+f),i=0;i<Math.floor((r.length-(1+i))/3);i++)r=r.substring(0,r.length-(4*i+3))+","+r.substring(r.length-(4*i+3));u=Math.max(0,Math.max(0,r.substring(0,e).split(",").length-1)-u);$(n).val((o?"-":"")+r);n.setSelectionRange(e+u,s+u)}function ShowQuickViewNotify(){try{ga("send","event","Xem thông báo","click","Xem danh sách thông báo nhanh")}catch(t){}if($("#notify_quick_view").length>0)$("#notify_quick_view").appendTo($(".header-top"));else{var n='<ul id="notify_quick_view" class="nqv">';n+="<\/ul>";$(".header-top").append(n)}$("#notify_quick_view").children().remove();$("#notify_quick_view").append('<li class="nqv"><div class="nitem nqv"><div class="nct nqv">Đang xử lý<\/div><div class="ncmd nqv"><\/div><div class="ncd nqv"><\/div><\/div><\/li>');$("#notify_quick_view").show();$.post("/HandlerWeb/NotifyHelperHandler.ashx",{action:"getquickview"},function(n){var r,i,t;if(n!=null&&n.data!=null&&n.data.length>0){for($("#notify_quick_view").children().remove(),r=0;r<n.data.length;r++)i=n.data[r],t='<li class="nqv">',t+='<div class="nitem nqv">',t+='<div class="nct nqv" onclick="ShowNotifyDetailFromQuickView(\''+i.Id+"', this, '"+(i.NotifyType?1:0)+"', "+i.isSystem+')">',t+=i.Title,t+="<\/div>",t+='<div class="ncontent nqv" style="display:none;" rel="content">',t+=i.Content,t+="<\/div>",t+='<div class="ncmd nqv"><img onclick="HideNotifyFromQuickView(\''+i.Id+"', '"+(i.NotifyType?1:0)+"', this, "+i.isSystem+')" class="nqv" src="https://file4.bdsabc.com/images/Notify/quick-view-delete.png" /><\/div>',t+='<div class="ncd nqv">'+i.CreateDate+"<\/div>",t+="<\/div>",t+="<\/li>",$("#notify_quick_view").append(t);$(".mnu-notify-icon-unread").html(n.total);$("#notify_quick_view").append('<li class="nqv"><a href="/trang-ca-nhan/uspg-notify" class="nmore nqv">Xem tất cả<\/a><\/li>')}else $("#notify_quick_view").hide()},"json");$("body").bind("click",$("#notify_quick_view"),function(n){$(n.target).hasClass("nqv")?$(n.target).hasClass("nmore")==!1&&(n.preventDefault(),n.stopPropagation()):(n.data.remove(),$("body").unbind("click"))})}function ShowNotifyDetailFromQuickView(n,t,i,r){try{ga("send","event","Xem thông báo","click","Xem chi tiết thông báo nhanh")}catch(u){}ShowNotifyDetail(n,t);HideNotifyFromQuickView(n,i,$(t).next("div.ncmd").children("img"),r)}function ShowNotifyDetail(n,t){$("#backdrop_notify").length==0&&$("body").append("<div class=\"lg-backdrop in\" id=\"backdrop_notify\" style=\"transition-duration: 150ms;\" onclick=\"$('#backdrop_notify').remove(); $('#notify_popup').remove();$('form').removeClass('under-login-popup');\"><\/div>");$("#notify_popup").length==0&&$("body").append("<div class=\"notifyPopupContainer\"><div class=\"notifyPopup\" id=\"notify_popup\"><div class=\"notifyPopupClose fa fa-close\" onclick=\"$('#backdrop_notify').remove(); $('#notify_popup').remove();$('body').css('overflow', 'auto');$('form').removeClass('under-login-popup');\"><\/div><div><div class=\"notifyPopupTitle\"><\/div><div class=\"notifyPopupContent\"><\/div><\/div><\/div><\/div>");$("#notify_popup div div.notifyPopupTitle").html('<img src="https://file4.bdsabc.com/images/Notify/img-notify-bell.png" align="center"/>'+$(t).text());$("#notify_popup div div.notifyPopupContent").html($(t).next("div[rel=content]").html());$("form").addClass("under-login-popup")}function HideNotifyFromQuickView(n,t,i,r){$.post("/HandlerWeb/NotifyHelperHandler.ashx",{action:"turnoffnew",notifyType:t,id:n,isSystem:r},function(){$(i).parent().parent().remove();DecreaseNotifyUnreadCount()})}function DecreaseNotifyUnreadCount(){var n=$(".mnu-notify-icon-unread").html();isFinite(n)&&parseInt(n)>1?$(".mnu-notify-icon-unread").html(parseInt(n)-1):$(".header-middle-righ-icon.nqv").hide()}function writelog(){console&&console.log(Object)}function writeScript(n,t){var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(function(){var i=document.createElement("script");return i.type="text/javascript",i.src=n,i.async=!0,i.defer=!0,i.onload=t!==undefined?t:function(){i.parentNode.removeChild(i)},i}(),i)}function loading(n){n.prop("disabled",!0);n.html('<i class="fa fa-spinner fa-spin"><\/i> '+n.text())}function endLoading(n,t){n.prop("disabled",!1);n.html(t)}function showSuccess(n){$(".alert, .alert-danger").remove();$("#message").html('<div class="alert alert-success col-sm-12">'+n+"<\/div>")}function showError(n){$(".alert, .alert-success").remove();$("#message").html('<div class="alert alert-danger col-sm-12">'+n+"<\/div>")}function showNotify(n,t){$.bootstrapGrowl("<h4>Thông báo!<\/h4> <p>"+n+"<\/p>",{type:t,delay:2500,allow_dismiss:!0})}function recaptchaCallback(){$("#btnSubmit").removeAttr("disabled")}function sortable(n){var t="";$(".upload-item").each(function(){var n=$(this).attr("rel");n!=null&&(t.length>0&&(t+=","),t+=n)});n.val(t)}var prevKey=-1,prevControl="",lstHeaderMobile10,lstHeaderMobile11,mapHostUrl;typeof console=="undefined"&&(console={log:function(){}});typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});typeof Array.prototype.reduce!="function"&&(Array.prototype.reduce=function(n){if(this==null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof n!="function")throw new TypeError(n+" is not a function");var i=Object(this),u=i.length>>>0,t=0,r;if(arguments.length==2)r=arguments[1];else{while(t<u&&!(t in i))t++;if(t>=u)throw new TypeError("Reduce of empty array with no initial value");r=i[t++]}for(;t<u;t++)t in i&&(r=n(r,i[t],t,i));return r});lstHeaderMobile10=[99,92,90,93,89,91,94,88,96,97,98,86,52,81,82,83,84,85,32,33,34,35,36,37,38,39,70,76,77,78,79,56,58,59];lstHeaderMobile11=[199,188,186,120,121,122,126,128,123,124,125,127,129,162,163,164,165,166,167,168,169];String.prototype.Trim=function(){return Trim(this)};Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};String.prototype.format=function(){var n=this;for(arg in arguments)while(n.indexOf("{"+arg+"}")>=0)n=n.replace("{"+arg+"}",arguments[arg]);return n};var uniChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZàáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t",KoDauChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZaaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t",uniCharsAlfabe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZàáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ1234567890 ",KoDauCharsAlfabe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZaaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU1234567890 ",Alphabe="qwertyuioplkjhgfdsazxcvbnm0123456789QWERTYUIOPASDFGHJKLZXCVBNM";jQuery.fn.extend({scrollToMe:function(){var n=jQuery(this).offset().top;jQuery("html,body").animate({scrollTop:n},400)}});mapHostUrl="https://apimap.bdsabc.com";String.prototype.getQueryHash=function(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\#&$]"+n+"=([^&#]*)"),i=r.exec(this);return i==null?t==undefined?"":t:decodeURIComponent(i[1].replace(/\+/g," "))};$(window).scroll(function(){$(window).scrollTop()>=200?$("#to_top").fadeIn():$("#to_top").fadeOut()});Number.prototype.formatMoney=function(n,t,i){var u=this,n=isNaN(n=Math.abs(n))?2:n,t=t==undefined?".":t,i=i==undefined?",":i,e=u<0?"-":"",f=parseInt(u=Math.abs(+u||0).toFixed(n))+"",r=(r=f.length)>3?r%3:0;return e+(r?f.substr(0,r)+i:"")+f.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+i)+(n?t+Math.abs(u-f).toFixed(n).slice(2):"")};$.fn.dropdownQuestion=function(n,t,i){function s(n,t){n!=null&&n!=""&&$("#"+r+" .drop-segtext").html(n);t!=null&&t!=""&&($("#"+r).change(),$("#hdd"+r).val(t));$("#"+r+" .drop-gridcontainer").hide();$("#"+r+" .drop-section").removeClass("sectionactive")}var u="",f="",r=$(this).attr("id"),e=-1,o="";f="<li rel='-1'>-- Choose question category --<\/li>";$.each(n,function(n,i){i.Id==t?(f+=' <li class="selected" rel="'+i.Id+'">'+i.Text+"<\/li>",e=i.Id,o=i.Text):f+=' <li rel="'+i.Id+'">'+i.Text+"<\/li>"});e==-1&&(o="-- Choose question category --");u+=' <div class="drop-section" style="width:'+i+';" ><span class="drop-segtext">'+o+'<\/span><span class="segdart"><\/span><\/div>';u+=' <div class="drop-gridcontainer" style="min-width:'+i+'; display:none;" > ';u+=' <ul style="min-width:'+i+'"> ';u+=f;u+=" <\/ul> ";$("#"+r).html(u);$("#hdd"+r).val(e);$("#"+r+" .drop-gridcontainer li").removeClass("selected");$("#"+r+' .drop-gridcontainer li[rel="'+e+'"]').addClass("selected");$("#"+r+" .drop-section").click(function(){$(this).hasClass("sectionactive")?s():($(this).addClass("sectionactive"),$("#"+r+" .drop-gridcontainer").show())});$("#"+r+" .drop-gridcontainer li").click(function(){var n=$(this).html(),t=$(this).attr("rel");$("#"+r+" .drop-gridcontainer li").removeClass("selected");$(this).addClass("selected");s(n,t)});$(document).mouseup(function(n){var t=$("#"+r+" .drop-gridcontainer"),i=$("#"+r+" .drop-section");t.is(n.target)||t.has(n.target).length!==0||i.is(n.target)||i.has(n.target).length!==0||s()})};$.fn.international=function(){var n=$(this).attr("id");$("#"+n+" .gridcontainer li").removeClass("selected");$("#"+n+" .section").click(function(){$(this).hasClass("sectionactive")?($("#"+n+" .gridcontainer").hide(),$("#"+n+" .section").removeClass("sectionactive")):($(this).addClass("sectionactive"),$("#"+n+" .gridcontainer").show())});$("#"+n+" .gridcontainer li").click(function(){var n=$(this).children("a");window.open(n.attr("href"))});$(document).mouseup(function(t){var i=$("#"+n+" .gridcontainer"),r=$("#"+n+" .section");i.is(t.target)||i.has(t.target).length!==0||r.is(t.target)||r.has(t.target).length!==0||($("#"+n+" .gridcontainer").hide(),$("#"+n+" .section").removeClass("sectionactive"))})};$.fn.flipCompare=function(){this.each(function(){var n=$(this),t=n.attr("data-width"),i=n.attr("data-height");n.css("border","none");n.addClass("flip-compare");n.find("img").each(function(){var n=$(this);n.index()>1&&n.hide();n.index()==0&&n.wrap("<div class='front'><\/div>");n.index()==1&&n.wrap("<div class='back'><\/div>");n.css("width",t);n.css("height",i)});$(".front,.back").append("<div class='note_flip'>Click để lật ảnh<\/div>");n.flip({trigger:"click"})})};$.fn.sliderCompare=function(){this.each(function(){var n=$(this),r=n.attr("data-width"),u=n.attr("data-height"),i=n.attr("data-dimension"),t=n.attr("data-offset");(isNaN(t)||t>1||t<0)&&(t=.5);i!="vertical"&&i!="horizontal"&&(i="horizontal");n.css("border","none");n.find("img").each(function(){var n=$(this);n.index()>1&&n.hide();n.css("width",r);n.css("height",u)});n.addClass("twentytwenty-container").twentytwenty({default_offset_pct:t,orientation:i,move_slider_on_hover:!0,move_with_handle_only:!0,click_to_move:!1})})};$(document).ready(function(){$("#btnSubmit").click(function(){var n=$(this).html();if(loading($(this)),!$("#frmSubmit").valid())return endLoading($(this),n),!1;$("#frmSubmit").submit()})})